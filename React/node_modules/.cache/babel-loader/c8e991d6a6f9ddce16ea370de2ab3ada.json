{"ast":null,"code":"import { API_ROUTE } from \"../config/api\";\nimport Category from \"../Models/category\";\nimport Product from '../Models/product';\nconst ApiClient = {\n  get: (url, headers = {}) => {\n    return ApiClient.makeRequest(`${API_ROUTE}/${url}`, \"GET\", {}, headers);\n  },\n  post: (url, headers) => {\n    return ApiClient.makeRequest(`${API_ROUTE}/${url}`, \"POST\", headers);\n  },\n  delete: (url, id, headers = {}) => {\n    return ApiClient.makeRequest(`${API_ROUTE}/${url}`, \"DELETE\", id, headers);\n  },\n  put: (url, id, headers) => {\n    return ApiClient.makeRequest(`${API_ROUTE}/${url}`, \"PUT\", id, headers);\n  },\n  makeRequest: async (url, type, params = {}, headers = {}) => {\n    try {\n      type = type.toUpperCase();\n      let request = {\n        method: type,\n        headers: headers\n      };\n\n      if (type === \"POST\" || type === \"PUT\") {\n        request.headers = {\n          \"content-Type\": \"application/json;charset=UTF-8\"\n        };\n        request.body = JSON.stringify(params);\n      }\n\n      const result = await fetch(url, request);\n      return await result.json();\n    } catch (error) {\n      throw error.message;\n    }\n  }\n};\nconst ProductCategories = {\n  all: async () => {\n    const {\n      categories\n    } = await ApiClient.get(\"category\");\n    return categories.map(c => new Category(c.categoryId, c.name, c.description));\n  },\n  post: async params => {\n    return await ApiClient.post(\"category\", params);\n  },\n  delete: async id => {\n    return await ApiClient.delete(`category/${id}`);\n  },\n  update: async (id, params) => {\n    return await ApiClient.put(`category/${id}`, params);\n  }\n};\nconst Products = {\n  getImage: async id => {\n    return await ApiClient.get(`Produt/${id}`);\n  },\n  getAll: async () => {\n    const {\n      products\n    } = await ApiClient.get(\"product\");\n    return products.map(p => new Product(p.productId, p.name, p.price, p.basePrice, p.description, p.categoryId, p.image));\n  },\n  post: async params => {\n    return await ApiClient.post(\"Product\", params);\n  },\n  postImage: async (params, id) => {\n    return await ApiClient.post(`product/image/${id}`, params);\n  },\n  delete: async id => {\n    return await ApiClient.delete(`product/${id}`);\n  }\n};\nconst ApiHelper = {\n  ProductCategories,\n  Products\n};\nexport default ApiHelper;","map":{"version":3,"sources":["D:/an2facultate/sem2/Roweb/Practica - Copie/Practica_Roweb/React/src/helpers/api.js"],"names":["API_ROUTE","Category","Product","ApiClient","get","url","headers","makeRequest","post","delete","id","put","type","params","toUpperCase","request","method","body","JSON","stringify","result","fetch","json","error","message","ProductCategories","all","categories","map","c","categoryId","name","description","update","Products","getImage","getAll","products","p","productId","price","basePrice","image","postImage","ApiHelper"],"mappings":"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","sourcesContent":["import { API_ROUTE } from \"../config/api\";\nimport Category from \"../Models/category\";\nimport Product from '../Models/product'\nconst ApiClient = {\n  get: (url, headers = {}) => {\n    return ApiClient.makeRequest(`${API_ROUTE}/${url}`, \"GET\", {}, headers);\n  },\n  post:(url,headers)=>{\n return ApiClient.makeRequest(`${API_ROUTE}/${url}`,\"POST\",headers)\n  },\n  delete:(url,id,headers = {})=>{\n    return ApiClient.makeRequest(`${API_ROUTE}/${url}`,\"DELETE\",id,headers)\n  },\n  put:(url,id,headers)=>{\nreturn ApiClient.makeRequest(`${API_ROUTE}/${url}`,\"PUT\",id,headers)\n  },\n  makeRequest: async (url, type, params = {}, headers = {}) => {\n    try {\n      type = type.toUpperCase();\n     \n      let request = {\n    \n        method: type,\n          headers:headers\n      }\n      if (type === \"POST\" || type === \"PUT\") {\n\n        request.headers={\"content-Type\": \"application/json;charset=UTF-8\"}\n        request.body = JSON.stringify(params);\n        \n      }\n      \n      const result = await fetch(url, request);\n      return await result.json();\n    } catch (error) {\n      throw error.message;\n    }\n  },\n};\n\nconst ProductCategories = {\n  all: async () => {\n    const { categories } = await ApiClient.get(\"category\");\n\n    return categories.map((c) => new Category(c.categoryId, c.name, c.description));\n  },\n  post:async (params) =>{\n      return  await ApiClient.post(\"category\",params);\n  },\n  delete:async(id)=>{\n    return await ApiClient.delete(`category/${id}`);\n  },\n  update:async(id,params)=>{\n    return await ApiClient.put(`category/${id}`,params)\n  }\n};\n\nconst Products={\n  getImage:async(id)=>{\n    return await ApiClient.get(`Produt/${id}`);\n   \n  },\n  getAll:async()=>{\n    const { products } = await ApiClient.get(\"product\");\n\n    return products.map((p) => new Product(p.productId, p.name, p.price, p.basePrice, p.description, p.categoryId, p.image)); \n  },\n  post:async (params)=>{\n    return await ApiClient.post(\"Product\",params)\n  },\n  postImage:async (params,id)=>{\n    return await  ApiClient.post(`product/image/${id}`,params);\n  },\n  delete:async (id)=>{\n    return await ApiClient.delete(`product/${id}`);\n  }\n}\nconst ApiHelper = {\n  ProductCategories,\n  Products\n};\nexport default ApiHelper;\n"]},"metadata":{},"sourceType":"module"}